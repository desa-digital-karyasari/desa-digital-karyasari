<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Desa Digital Karyasari</title>

<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: #f4f6f8;
}

header {
    background: #1769ff;
    color: white;
    text-align: center;
    padding: 40px 20px;
}

.container {
    max-width: 900px;
    margin: 40px auto;
    background: white;
    padding: 30px;
    border-radius: 10px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

label {
    font-weight: bold;
    display: block;
    margin-top: 15px;
}

input, select, textarea, button {
    width: 100%;
    padding: 12px;
    margin-top: 6px;
    font-size: 16px;
}

textarea {
    resize: vertical;
}

button {
    margin-top: 25px;
    background: #1769ff;
    color: white;
    border: none;
    cursor: pointer;
    font-size: 18px;
}

button:hover {
    background: #0f52cc;
}

.result {
    margin-top: 25px;
    padding: 15px;
    background: #eef3ff;
    border-left: 5px solid #1769ff;
    font-size: 18px;
}
</style>
</head>

<body>

<header>
    <h1>Desa Digital Karyasari</h1>
    <p>Pelayanan Surat Menyurat Online</p>
</header>

<div class="container">
<h2>Form Pengajuan Surat</h2>

<form id="formSurat">

<label>Nama Lengkap</label>
<input type="text" required>

<label>NIK</label>
<input type="text" required>

<label>Jenis Surat</label>
<select id="jenisSurat" required>
<option value="">-- Pilih Jenis Surat --</option>

<optgroup label="Surat Keterangan">
<option value="SKTM">Surat Keterangan Tidak Mampu</option>
<option value="DOM">Surat Keterangan Domisili</option>
<option value="USAHA">Surat Keterangan Usaha</option>
<option value="BELUM_NIKAH">Surat Keterangan Belum Menikah</option>
<option value="JANDA">Surat Keterangan Janda/Duda</option>
<option value="KELAHIRAN">Surat Keterangan Kelahiran</option>
<option value="KEMATIAN">Surat Keterangan Kematian</option>
<option value="PINDAH">Surat Keterangan Pindah</option>
<option value="DATANG">Surat Keterangan Datang</option>
<option value="HILANG">Surat Keterangan Kehilangan</option>
<option value="WARIS">Surat Keterangan Waris</option>
<option value="BEDA_NAMA">Surat Keterangan Beda Nama</option>
<option value="TANAH">Surat Keterangan Kepemilikan Tanah</option>
<option value="PENGHASILAN">Surat Keterangan Penghasilan</option>
</optgroup>

<optgroup label="Surat Pengantar">
<option value="SKCK">Surat Pengantar SKCK</option>
<option value="KTP">Surat Pengantar KTP</option>
<option value="KK">Surat Pengantar KK</option>
<option value="NIKAH">Surat Pengantar Nikah</option>
<option value="CERAI">Surat Pengantar Cerai</option>
<option value="BPJS">Surat Pengantar BPJS</option>
<option value="SEKOLAH">Surat Pengantar Sekolah</option>
<option value="KERJA">Surat Pengantar Kerja</option>
</optgroup>

<optgroup label="Surat Rekomendasi & Izin">
<option value="IZIN_USAHA">Surat Izin Usaha</option>
<option value="IZIN_KERAMAIAN">Surat Izin Keramaian</option>
<option value="PENELITIAN">Surat Izin Penelitian</option>
<option value="BANTUAN">Surat Rekomendasi Bantuan</option>
</optgroup>

</select>

<label>Keperluan</label>
<textarea rows="4" required></textarea>

<button type="submit">Kirim Pengajuan</button>
</form>

<div id="hasilNomor" class="result" style="display:none;"></div>
</div>

<script>
function bulanRomawi(b) {
    return ["I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII"][b];
}

// KODE SURAT RESMI DESA
const kodeSurat = {
SKTM:"142",
SKCK:"143",
USAHA:"144",
DOM:"145",
BELUM_NIKAH:"146",
JANDA:"147",
KELAHIRAN:"148",
KEMATIAN:"149",
PINDAH:"150",
DATANG:"151",
HILANG:"152",
WARIS:"153",
BEDA_NAMA:"154",
TANAH:"155",
PENGHASILAN:"156",
KTP:"157",
KK:"158",
NIKAH:"159",
CERAI:"160",
BPJS:"161",
SEKOLAH:"162",
KERJA:"163",
IZIN_USAHA:"164",
IZIN_KERAMAIAN:"165",
PENELITIAN:"166",
BANTUAN:"167"
};

let nomorUrut = 1;

document.getElementById("formSurat").addEventListener("submit", function(e){
e.preventDefault();

const jenis = document.getElementById("jenisSurat").value;
const kode = kodeSurat[jenis] || "000";
const bulan = bulanRomawi(new Date().getMonth());
const tahun = new Date().getFullYear();

const nomor =
kode + "/" +
String(nomorUrut).padStart(3,"0") +
"/Ds.2001/" +
jenis + "/" +
bulan + "/" +
tahun;

document.getElementById("hasilNomor").style.display="block";
document.getElementById("hasilNomor").innerHTML =
"<b>Nomor Surat:</b><br>" + nomor;

nomorUrut++;
});
</script>

</body>
</html>

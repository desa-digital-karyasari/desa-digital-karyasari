<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Desa Digital Karyasari</title>
<style>
body{font-family:Arial,Helvetica,sans-serif;background:#f4f6f8;margin:0}
header{background:#2563eb;color:#fff;padding:40px 20px;text-align:center}
.container{max-width:900px;margin:30px auto;background:#fff;padding:25px;border-radius:8px}
label{font-weight:bold;display:block;margin-top:15px}
input,select,textarea,button{width:100%;padding:10px;margin-top:5px}
button{background:#2563eb;color:#fff;border:none;border-radius:4px;font-size:16px;cursor:pointer}
button:hover{background:#1e4fd6}
#previewSurat{display:none;margin-top:25px;padding:20px;background:#f1f5ff;border-left:5px solid #2563eb}
#btnCetak{display:none;margin-top:15px}
@media print{button,select,input,textarea,header{display:none}}
</style>
</head>
<body>
<header>
<h1>Desa Digital Karyasari</h1>
<p>Pelayanan Surat Menyurat Online</p>
</header>

<div class="container">
<h2>Form Pengajuan Surat</h2>

<label>Nama Lengkap</label>
<input id="nama">

<label>NIK</label>
<input id="nik">

<label>Tempat Lahir</label>
<input id="tempat">

<label>Tanggal Lahir</label>
<input type="date" id="tanggal">

<label>Jenis Kelamin</label>
<select id="jk"><option>Laki-laki</option><option>Perempuan</option></select>

<label>Agama</label>
<select id="agama"><option>Islam</option><option>Kristen</option><option>Katolik</option><option>Hindu</option><option>Buddha</option><option>Konghucu</option></select>

<label>Status Perkawinan</label>
<select id="status"><option>Belum Kawin</option><option>Kawin</option><option>Cerai Hidup</option><option>Cerai Mati</option></select>

<label>Pekerjaan</label>
<input id="pekerjaan">

<label>Alamat Lengkap</label>
<textarea id="alamat"></textarea>

<label>Jenis Surat</label>
<select id="jenisSurat"></select>

<label>Keperluan</label>
<textarea id="keperluan"></textarea>

<button onclick="buatSurat()">Buat Surat</button>

<div id="previewSurat"></div>
<button id="btnCetak" onclick="window.print()">Cetak / Simpan PDF</button>
</div>

<script>
const jenisSuratMap = {
"SKTM":"142","SKCK":"143","SKU":"144","SKD":"145","SKBM":"146","SKH":"147","SKK":"148","SKP":"149","SKW":"150","SKKEM":"151"
};

const jenisSuratList = [
  "SKTM|Surat Keterangan Tidak Mampu",
  "SKCK|Surat Pengantar SKCK",
  "SKU|Surat Keterangan Usaha",
  "DOM|Surat Keterangan Domisili",
  "KTP|Surat Pengantar KTP",
  "KK|Surat Pengantar KK",
  "PINDAH|Surat Keterangan Pindah",
  "DATANG|Surat Keterangan Datang",
  "LAHIR|Surat Keterangan Kelahiran",
  "MATI|Surat Keterangan Kematian",
  "BELUMNIKAH|Surat Keterangan Belum Menikah",
  "JANDA|Surat Keterangan Janda",
  "DUDA|Surat Keterangan Duda",
  "PENGHASILAN|Surat Keterangan Penghasilan",
  "KEHILANGAN|Surat Keterangan Kehilangan",
  "TANAH|Surat Keterangan Tanah",
  "AHLIWARIS|Surat Keterangan Ahli Waris",
  "IZINUSAHA|Surat Izin Usaha Desa",
  "REKOM|Surat Rekomendasi",
  "NIKAH|Surat Pengantar Nikah",
  "CERAI|Surat Keterangan Cerai",
  "DISPENSASI|Surat Dispensasi Nikah",
  "ORANGTUA|Surat Keterangan Orang Tua",
  "WALI|Surat Keterangan Wali",
  "PINJAMAN|Surat Keterangan Pinjaman",
  "BANTUAN|Surat Keterangan Bantuan Sosial",
  "BPJS|Surat Keterangan BPJS",
  "KIP|Surat Keterangan KIP",
  "KIS|Surat Keterangan KIS",
  "PKH|Surat Keterangan PKH",
  "USAHA_BARU|Surat Keterangan Usaha Baru",
  "TIDAK_BEKERJA|Surat Keterangan Tidak Bekerja",
  "BEKERJA|Surat Keterangan Bekerja",
  "MAGANG|Surat Keterangan Magang",
  "SEKOLAH|Surat Keterangan Sekolah",
  "AKTIF|Surat Keterangan Aktif",
  "CUTI|Surat Keterangan Cuti",
  "KERJA|Surat Keterangan Kerja",
  "DOMISILI_USAHA|Surat Domisili Usaha",
  "DOMISILI_PENDUDUK|Surat Domisili Penduduk",
  "TIDAK_MAMPU_SEKOLAH|Surat Tidak Mampu Sekolah",
  "PINDAH_SEKOLAH|Surat Pindah Sekolah",
  "BEASISWA|Surat Keterangan Beasiswa",
  "USAHA_MIKRO|Surat Usaha Mikro",
  "USAHA_KECIL|Surat Usaha Kecil",
  "USAHA_MENENGAH|Surat Usaha Menengah",
  "USAHA_BESAR|Surat Usaha Besar",
  "DOMISILI_LAHAN|Surat Domisili Lahan",
  "TANPA_PENGHASILAN|Surat Tanpa Penghasilan",
  "KURANG_MAMPU|Surat Keterangan Kurang Mampu",
  "DISABILITAS|Surat Keterangan Disabilitas",
  "LANSIA|Surat Keterangan Lansia",
  "ANAK|Surat Keterangan Anak",
  "PIUTANG|Surat Keterangan Piutang",
  "HUTANG|Surat Keterangan Hutang",
  "LAINNYA|Surat Keterangan Lainnya"
];

const select = document.getElementById("jenisSurat");
select.innerHTML = '<option value="">-- Pilih Jenis Surat --</option>';
jenisSuratList.forEach(j=>{
 const [kode,nama] = j.split('|');
 const opt = document.createElement('option');
 opt.value = kode;
 opt.textContent = nama;
 select.appendChild(opt);
});

function buatSurat(){
 const nama = namaEl.value = document.getElementById('nama').value;
 const nik = document.getElementById('nik').value;
 const alamat = document.getElementById('alamat').value;
 const jenis = document.getElementById('jenisSurat').value;
 const keperluan = document.getElementById('keperluan').value;
 if(!nama||!nik||!alamat||!jenis){alert('Lengkapi data');return;}
 const kode = jenisSuratMap[jenis] || '000';
 const nomor = kode+'/001/Ds.2001/'+jenis+'/I/2026';
 document.getElementById('previewSurat').innerHTML = `
 <h3 style="text-align:center">${select.options[select.selectedIndex].text}</h3>
 <p style="text-align:center"><b>Nomor: ${nomor}</b></p>
 <p>Yang bertanda tangan di bawah ini Kepala Desa Karyasari menerangkan bahwa:</p>
 <table>
 <tr><td>Nama</td><td>: ${nama}</td></tr>
 <tr><td>NIK</td><td>: ${nik}</td></tr>
 <tr><td>Alamat</td><td>: ${alamat}</td></tr>
 </table>
 <p>Surat ini dibuat untuk keperluan: <b>${keperluan}</b></p>
 <p>Demikian surat ini dibuat agar dapat dipergunakan sebagaimana mestinya.</p>
 <br><br><p style="text-align:right">Karyasari, ............</p>
 <p style="text-align:right">Kepala Desa</p><br><br>
 <p style="text-align:right"><b>(_________________)</b></p>`;
 document.getElementById('previewSurat').style.display='block';
 document.getElementById('btnCetak').style.display='block';
}
</script>
</body>
</html>
